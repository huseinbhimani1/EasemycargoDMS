import{r as m,c as l,a as o,j as y,d as f,k,v as D,F as C,l as V,o as a,t as w}from"./BtseiMPM.js";async function R(c){var s;try{const[t,i]=await Promise.all([fetch("/api/docs-config"),fetch("/api/docs")]),d=await t.json(),e=(await i.json()).documents||[],u=((s=d[c])==null?void 0:s.filter(r=>r.required))||[],n=e.filter(r=>r.layer===c),p=u.filter(r=>!n.some(g=>g.name===r.name));return{missing:p,isComplete:p.length===0}}catch(t){return console.error("Document validation failed:",t),{missing:[],isComplete:!1}}}const _={key:0},h={key:0,style:{color:"green"}},j={key:1,style:{color:"red"}},x={__name:"login",setup(c){const s=m("platform"),t=m(null),i=m(!1);async function d(){t.value=await R(s.value),i.value=!0}return(v,e)=>{var u;return a(),l("div",null,[e[4]||(e[4]=o("h1",null,"Login Check",-1)),o("label",null,[e[2]||(e[2]=f("Layer: ")),k(o("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>s.value=n)},e[1]||(e[1]=[o("option",{value:"platform"},"Platform",-1),o("option",{value:"organization"},"Organization",-1),o("option",{value:"user"},"User",-1)]),512),[[D,s.value]])]),o("button",{onClick:d},"Validate"),i.value?(a(),l("div",_,[(u=t.value)!=null&&u.isComplete?(a(),l("p",h,"✅ All required documents are uploaded")):(a(),l("div",j,[e[3]||(e[3]=f(" ❌ Missing Documents: ")),o("ul",null,[(a(!0),l(C,null,V(t.value.missing,n=>(a(),l("li",{key:n.name},w(n.name),1))),128))])]))])):y("",!0)])}}};export{x as default};
