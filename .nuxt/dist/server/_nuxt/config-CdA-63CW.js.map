{"version":3,"file":"config-CdA-63CW.js","sources":["../../../../pages/admin/config.vue"],"sourcesContent":["\n<template>\n  <div>\n    <h2>Configure Document Requirements</h2>\n    <form @submit.prevent=\"saveConfig\">\n      <div v-for=\"layer in ['platform', 'organization', 'user']\" :key=\"layer\">\n        <h3>{{ layer }}</h3>\n        <div v-for=\"(doc, i) in config[layer]\" :key=\"i\">\n          <input v-model=\"doc.name\" placeholder=\"Document Name\" />\n          <label><input type=\"checkbox\" v-model=\"doc.required\" /> Required</label>\n        </div>\n        <button @click=\"addDoc(layer)\">Add {{ layer }} doc</button>\n      </div>\n      <button type=\"submit\">Save</button>\n    </form>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nconst config = ref({ platform: [], organization: [], user: [] })\n\nonMounted(async () => {\n  const res = await fetch('/api/docs-config')\n  config.value = await res.json()\n})\n\nfunction addDoc(layer) {\n  config.value[layer].push({ name: '', required: false })\n}\n\nasync function saveConfig() {\n  await fetch('/api/docs-config', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(config.value)\n  })\n  alert('Saved!')\n}\n</script>\n"],"names":["_ssrRenderList","_ssrRenderAttr","_ssrIncludeBooleanAttr","_ssrLooseContain"],"mappings":";;;;;;AAoBA,UAAM,SAAS,IAAI,EAAE,UAAU,CAAA,GAAI,cAAc,CAAA,GAAI,MAAM,GAAE,CAAE;;;AAfpCA,oBAAA,CAAA,YAAA,gBAAA,MAAA,IAAT,UAAK;yCACR,KAAK,CAAA,eAAA;AACYA,sBAAA,OAAA,MAAO,KAAK,GAAA,CAAvB,KAAK,MAAC;8BACDC,cAAA,SAAA,IAAI,IAAI,8DACeC,sBAAA,MAAA,QAAA,IAAI,QAAQ,IAAZC,gBAAA,IAAI,UAAQ,IAAA,IAAZ,IAAI,QAAQ,IAAA,aAAA;;oDAEf,KAAK,CAAA,qBAAA;AAAA;;;;;;;;;;;"}